# æ‡’äººä¸€é”®éƒ¨ç½²ï¼š
```
docker run -d --name toolbaz-api --restart always -p 8000:8000 2864460459/toolbaz-2api:latest
```

# ğŸš€ Toolbaz-2API Docker: è®©æ—§æ—¶ä»£çš„ç½‘é¡µç„•å‘ API çš„æ–°ç”Ÿ

![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)
![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?logo=docker&logoColor=white)
![Python](https://img.shields.io/badge/Python-3.10+-3776AB?logo=python&logoColor=white)
![Playwright](https://img.shields.io/badge/Playwright-è‡ªåŠ¨åŒ–æµ‹è¯•-45BA4B?logo=playwright&logoColor=white)
![FastAPI](https://img.shields.io/badge/FastAPI-ç°ä»£APIæ¡†æ¶-009688?logo=fastapi&logoColor=white)

> ğŸ”— **GitHub ä»“åº“**: [https://github.com/lza6/toolbaz-2api-docker](https://github.com/lza6/toolbaz-2api-docker)

---

## ğŸŒŸ ç›®å½•å¯¼èˆª
- [ğŸ“– åºè¨€ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ä¸ªï¼Ÿ](#-åºè¨€ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ä¸ª)
- [ğŸ—ï¸ é¡¹ç›®æ¶æ„è“å›¾](#-é¡¹ç›®æ¶æ„è“å›¾)
- [ğŸ› ï¸ æŠ€æœ¯åŸç†æ·±åº¦è§£æ](#-æŠ€æœ¯åŸç†æ·±åº¦è§£æ)
- [âš¡ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ® ä½¿ç”¨è¯´æ˜](#-ä½¿ç”¨è¯´æ˜)
- [âš–ï¸ ä¼˜ç¼ºç‚¹ä¸è¯„æµ‹](#-ä¼˜ç¼ºç‚¹ä¸è¯„æµ‹)
- [ğŸ”® æœªæ¥å±•æœ›ä¸æ‰©å±•è·¯çº¿å›¾](#-æœªæ¥å±•æœ›ä¸æ‰©å±•è·¯çº¿å›¾)
- [ğŸ“ å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [ğŸ¤ è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [ğŸ“œ è®¸å¯è¯](#-è®¸å¯è¯)

---

## ğŸ“– åºè¨€ï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ä¸ªï¼Ÿ

> ğŸ’­ **å“²å­¦æ€è€ƒ**ï¼šåœ¨AIæŠ€æœ¯å¿«é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œæˆ‘ä»¬å¦‚ä½•çœ‹å¾…"ä¿¡æ¯è·å–æƒ"ï¼Ÿ

åœ¨æ•°å­—ä¸–ç•Œçš„æ¼”è¿›ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š**è®¸å¤šä¼˜ç§€çš„AIå·¥å…·ä»ç„¶è¢«å›°åœ¨Webç•Œé¢ä¸­**ï¼Œè€Œç°ä»£å¼€å‘è€…å´ä¹ æƒ¯é€šè¿‡APIè°ƒç”¨ä¸€åˆ‡ã€‚

**Toolbaz-2API** ä¸ä»…ä»…æ˜¯æŠ€æœ¯å®ç°ï¼Œæ›´æ˜¯ä¸€ç§ç†å¿µï¼š
- **ğŸšª å¼€é—¨ç²¾ç¥**ï¼šä¸ºå°é—­çš„ç³»ç»Ÿæ‰“å¼€ä¸€æ‰‡APIä¹‹é—¨
- **ğŸ¤– è‡ªåŠ¨åŒ–æ€ç»´**ï¼šè§£æ”¾åŒæ‰‹ï¼Œè®©æœºå™¨åšé‡å¤çš„å·¥ä½œ
- **ğŸ”— è¿æ¥ä¸»ä¹‰**ï¼šæ‰“ç ´ä¿¡æ¯å­¤å²›ï¼Œå®ç°ç³»ç»Ÿé—´çš„å¯¹è¯

æˆ‘ä»¬ç›¸ä¿¡æ¯ä¸ªå·¥å…·éƒ½åº”è¯¥æœ‰ç°ä»£åŒ–çš„è®¿é—®æ–¹å¼ï¼Œå°±åƒæ¯ä¸ªåœ°æ–¹éƒ½åº”è¯¥æœ‰ä¸€æ¡é€šå¾€é«˜é€Ÿå…¬è·¯çš„å…¥å£ã€‚

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„è“å›¾

```mermaid
graph TB
    A[ğŸ¯ ç”¨æˆ·è¯·æ±‚] --> B[ğŸšª FastAPI ç½‘å…³]
    B --> C{ğŸ”‘ API å¯†é’¥éªŒè¯}
    C -->|é€šè¿‡| D[ğŸ”§ ToolbazProvider]
    C -->|æ‹’ç»| E[ğŸš« 401 æ‹’ç»è®¿é—®]
    
    D --> F[ğŸ” é€Ÿç‡é™åˆ¶å™¨]
    F --> G{ğŸ“Š è¯·æ±‚é˜Ÿåˆ—}
    G -->|æœ‰ç©ºä½| H[ğŸ–¥ï¸ æµè§ˆå™¨æ± ]
    G -->|å·²æ»¡| I[â³ ç­‰å¾…é‡è¯•]
    
    subgraph "æµè§ˆå™¨é›†ç¾¤"
        H --> J1[ğŸ‘· Worker 1]
        H --> J2[ğŸ‘· Worker 2]
        H --> J3[ğŸ‘· Worker 3]
    end
    
    subgraph "Toolbaz ç½‘ç«™"
        J1 --> K[ğŸŒ è·å– Token]
        K --> L[ğŸ“ å‘é€è¯·æ±‚]
        L --> M[ğŸ’¬ è·å–å“åº”]
    end
    
    M --> N[âœ¨ æ•°æ®æ¸…æ´—]
    N --> O[ğŸ“¦ æ ¼å¼è½¬æ¢]
    O --> P[ğŸ¯ OpenAI å…¼å®¹æ ¼å¼]
    P --> Q[ğŸš€ è¿”å›ç»™ç”¨æˆ·]
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style D fill:#e8f5e8
    style H fill:#fff3e0
    style Q fill:#e8f5e8
```

### ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„ (AIå‹å¥½å‹)

```bash
toolbaz-2api/
â”œâ”€â”€ ğŸ“¦ [éƒ¨ç½²é…ç½®]
â”‚   â”œâ”€â”€ ğŸ“„ .env                    # ğŸ›ï¸ ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ .env.example            # ğŸ“‹ é…ç½®æ–‡ä»¶æ¨¡æ¿
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile              # ğŸ³ å®¹å™¨æ„å»ºè“å›¾
â”‚   â”œâ”€â”€ ğŸ“„ docker-compose.yml      # âš¡ ä¸€é”®éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ ğŸ“„ nginx.conf              # ğŸŒ WebæœåŠ¡å™¨é…ç½®
â”‚   â””â”€â”€ ğŸ“„ requirements.txt        # ğŸ“š Pythonä¾èµ–åº“
â”œâ”€â”€ ğŸ§  [æ ¸å¿ƒä»£ç ]
â”‚   â”œâ”€â”€ ğŸ“„ main.py                 # ğŸšª FastAPIåº”ç”¨å…¥å£
â”‚   â””â”€â”€ ğŸ“‚ app/
â”‚       â”œâ”€â”€ ğŸ“‚ core/
â”‚       â”‚   â””â”€â”€ ğŸ“„ config.py       # âš™ï¸ é…ç½®ç®¡ç†å™¨
â”‚       â”œâ”€â”€ ğŸ“‚ providers/
â”‚       â”‚   â”œâ”€â”€ ğŸ“„ base_provider.py    # ğŸ­ æŠ½è±¡æ¥å£å±‚
â”‚       â”‚   â””â”€â”€ ğŸ“„ toolbaz_provider.py # ğŸ¯ æ ¸å¿ƒå®ç°
â”‚       â””â”€â”€ ğŸ“‚ utils/
â”‚           â””â”€â”€ ğŸ“„ sse_utils.py    # ğŸŒŠ æµå¼å“åº”å·¥å…·
â””â”€â”€ ğŸ¨ [å‰ç«¯ç•Œé¢]
    â””â”€â”€ ğŸ“‚ static/
        â””â”€â”€ ğŸ“„ index.html          # ğŸ–¥ï¸ Webæµ‹è¯•ç•Œé¢
```

---

## ğŸ› ï¸ æŠ€æœ¯åŸç†æ·±åº¦è§£æ

### ğŸ” æ ¸å¿ƒè¿ä½œæµç¨‹

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant F as FastAPI
    participant R as é€Ÿç‡é™åˆ¶å™¨
    participant P as æµè§ˆå™¨æ± 
    participant B as æµè§ˆå™¨
    participant T as Toolbazç½‘ç«™
    participant A as æ•°æ®å¤„ç†å™¨
    
    U->>F: å‘é€APIè¯·æ±‚
    F->>R: æ£€æŸ¥è¯·æ±‚é¢‘ç‡
    R->>F: é€šè¿‡/ç­‰å¾…
    F->>P: è·å–æµè§ˆå™¨å®ä¾‹
    P->>B: åˆ†é…Worker
    B->>T: åŠ è½½ç½‘é¡µ
    T->>B: è¿”å›JavaScript
    B->>T: æ‰§è¡ŒxA1pY()å‡½æ•°
    T->>B: è¿”å›Token
    B->>T: å‘é€èŠå¤©è¯·æ±‚
    T->>B: è¿”å›HTMLå“åº”
    B->>A: æå–æ–‡æœ¬
    A->>F: æ ¼å¼è½¬æ¢
    F->>U: è¿”å›æ ‡å‡†APIå“åº”
```

### ğŸ’¡ å…³é”®æŠ€æœ¯ç‚¹è¯¦è§£

#### 1. **æµè§ˆå™¨æ± æŠ€æœ¯ (Browser Pooling)**

**ğŸ”§ æŠ€æœ¯æ ˆ**: Playwright + å¼‚æ­¥ç¼–ç¨‹ + å¯¹è±¡æ± æ¨¡å¼
- **ä¸ºä»€ä¹ˆéœ€è¦æ± åŒ–ï¼Ÿ**ï¼šæµè§ˆå™¨å¯åŠ¨è€—æ—¶ï¼ˆçº¦3-5ç§’ï¼‰ï¼Œæ± åŒ–å¯ä»¥å®ç°"éšç”¨éšå–"
- **å®ç°ç»†èŠ‚**ï¼šæ¯ä¸ª`BrowserWorker`éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„Chromeå®ä¾‹ï¼Œæœ‰è‡ªå·±çš„Cookieå’ŒSession
- **æ™ºèƒ½ç®¡ç†**ï¼šè¶…è¿‡ä½¿ç”¨æ¬¡æ•°ï¼ˆé»˜è®¤50æ¬¡ï¼‰è‡ªåŠ¨é‡ç½®ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼

```python
# ğŸ¯ æ ¸å¿ƒä»£ç ç‰‡æ®µï¼šBrowserWorkerç±»
class BrowserWorker:
    def __init__(self, browser):
        self.browser = browser
        self.context = None  # ğŸ­ æµè§ˆå™¨ä¸Šä¸‹æ–‡
        self.page = None     # ğŸ“„ æ ‡ç­¾é¡µ
        self.uses_count = 0  # ğŸ“Š ä½¿ç”¨è®¡æ•°å™¨
        self.id = str(uuid.uuid4())[:8]  # ğŸ”¢ å”¯ä¸€æ ‡è¯†ç¬¦
```

#### 2. **JavaScript é€†å‘ä¸æ‰§è¡Œ**

**ğŸ•µï¸â€â™‚ï¸ æŠ€æœ¯æŒ‘æˆ˜**: Toolbazç½‘ç«™ä½¿ç”¨åŠ¨æ€ç”Ÿæˆçš„Token
- **ä¼ ç»Ÿæ–¹æ³•**ï¼šåˆ†æJavaScriptä»£ç ï¼Œæ¨¡æ‹ŸåŠ å¯†ç®—æ³•
- **æˆ‘ä»¬çš„æ–¹æ³•**ï¼š**"å€ŸåŠ›æ‰“åŠ›"**ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æ‰§è¡ŒåŸå§‹JavaScript

```javascript
// ğŸ“œ åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­æ‰§è¡Œçš„JavaScriptä»£ç 
function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
    return null;
}

// ğŸ¯ å…³é”®ï¼šè°ƒç”¨ç½‘ç«™è‡ªæœ‰çš„åŠ å¯†å‡½æ•°
let token = "";
if (typeof window.xA1pY === 'function') token = window.xA1pY();
```

#### 3. **ä¸¥æ ¼çš„é€Ÿç‡æ§åˆ¶**

**âš ï¸ ç°å®é™åˆ¶**: Toolbazç½‘ç«™é™åˆ¶æ¯åˆ†é’Ÿ5æ¬¡è¯·æ±‚
- **ç®—æ³•å®ç°**: ä»¤ç‰Œæ¡¶ç®—æ³•(Token Bucket)çš„ç®€åŒ–ç‰ˆ
- **æ ¸å¿ƒé€»è¾‘**: è®°å½•è¿‡å»60ç§’çš„æ‰€æœ‰è¯·æ±‚æ—¶é—´æˆ³ï¼Œæ§åˆ¶å¹¶å‘æ•°é‡

```python
async def _wait_for_rate_limit(self):
    """ğŸ”¥ æ ¸å¿ƒé™æµé€»è¾‘ï¼šç¡®ä¿æ¯åˆ†é’Ÿä¸è¶…è¿‡5æ¬¡è¯·æ±‚"""
    async with self.rate_limit_lock:
        current_time = time.time()
        # æ¸…ç†è¶…è¿‡60ç§’çš„æ—§è®°å½•
        self.request_timestamps = [t for t in self.request_timestamps if current_time - t < 60]
        
        # é™åˆ¶ä¸ºæ¯åˆ†é’Ÿ 4 æ¬¡ï¼ˆç•™1æ¬¡ä½™é‡ï¼Œæ›´å®‰å…¨ï¼‰
        MAX_REQUESTS_PER_MINUTE = 4
        
        if len(self.request_timestamps) >= MAX_REQUESTS_PER_MINUTE:
            # è®¡ç®—éœ€è¦ç­‰å¾…çš„æ—¶é—´
            oldest_request = self.request_timestamps[0]
            wait_time = 60 - (current_time - oldest_request) + 1
            if wait_time > 0:
                logger.warning(f"ğŸš¦ è§¦å‘é€Ÿç‡é™åˆ¶ï¼Œç­‰å¾… {wait_time:.2f} ç§’...")
                await asyncio.sleep(wait_time)
        
        # è®°å½•è¿™æ¬¡è¯·æ±‚çš„æ—¶é—´
        self.request_timestamps.append(time.time())
```

---

## âš¡ å¿«é€Ÿå¼€å§‹

### ğŸ¯ ä¸€é”®å®‰è£…æ–¹æ¡ˆï¼ˆæœ€é€‚åˆæ–°æ‰‹ï¼‰

#### **æ–¹æ¡ˆAï¼šDocker Compose ğŸ³ï¼ˆæ¨èæŒ‡æ•°ï¼šâ­â­â­â­â­ï¼‰**

**ğŸ“¦ æ‰€éœ€å·¥å…·**:
- Docker Desktop: [ä¸‹è½½é“¾æ¥](https://www.docker.com/products/docker-desktop)
- Git: [ä¸‹è½½é“¾æ¥](https://git-scm.com/downloads)

**ğŸš€ å®‰è£…æ­¥éª¤**:

```bash
# 1ï¸âƒ£ å…‹éš†ä»£ç åˆ°æœ¬åœ°
git clone https://github.com/lza6/toolbaz-2api-docker.git
cd toolbaz-2api-docker

# 2ï¸âƒ£ å¤åˆ¶é…ç½®æ–‡ä»¶ï¼ˆæ— éœ€ä¿®æ”¹å³å¯ä½¿ç”¨ï¼‰
cp .env.example .env

# 3ï¸âƒ£ ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d --build

# 4ï¸âƒ£ æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose logs -f

# âœ… çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—è¡¨ç¤ºæˆåŠŸï¼š
# INFO:     Uvicorn running on http://0.0.0.0:8000
```

#### **æ–¹æ¡ˆBï¼šæœ¬åœ°Pythonç¯å¢ƒ ğŸï¼ˆé€‚åˆå¼€å‘è€…ï¼‰**

**ğŸ“‹ ç³»ç»Ÿè¦æ±‚**:
- Python 3.10+ 
- Chromeæµè§ˆå™¨

**ğŸ”§ å®‰è£…å‘½ä»¤**:

```bash
# 1ï¸âƒ£ åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆé¿å…æ±¡æŸ“ç³»ç»Ÿï¼‰
python -m venv venv

# 2ï¸âƒ£ æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 3ï¸âƒ£ å®‰è£…ä¾èµ–åŒ…
pip install -r requirements.txt

# 4ï¸âƒ£ å®‰è£…Playwrightæµè§ˆå™¨
playwright install chromium --with-deps

# 5ï¸âƒ£ å¯åŠ¨æœåŠ¡
python main.py
```

#### **æ–¹æ¡ˆCï¼šäº‘ç«¯éƒ¨ç½² â˜ï¸ï¼ˆVPS/äº‘æœåŠ¡å™¨ï¼‰**

```bash
# é€‚åˆUbuntu/Debianç³»ç»Ÿ
# 1ï¸âƒ£ å®‰è£…Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# 2ï¸âƒ£ å®‰è£…Docker Compose
sudo apt-get install docker-compose-plugin

# 3ï¸âƒ£ å…‹éš†ä»£ç å¹¶å¯åŠ¨
git clone https://github.com/lza6/toolbaz-2api-docker.git
cd toolbaz-2api-docker
docker-compose up -d
```

---

## ğŸ® ä½¿ç”¨è¯´æ˜

### ğŸ–¥ï¸ æ–¹å¼ä¸€ï¼šWebæ§åˆ¶å°ï¼ˆé€‚åˆå¿«é€Ÿæµ‹è¯•ï¼‰

1. **æ‰“å¼€æµè§ˆå™¨**è®¿é—®: `http://localhost:8000`
2. **ä½ ä¼šçœ‹åˆ°**ä¸€ä¸ªé…·ç‚«çš„é»‘è‰²æ§åˆ¶å°ç•Œé¢
3. **è¾“å…¥æ¶ˆæ¯**ï¼Œé€‰æ‹©æ¨¡å‹ï¼Œç‚¹å‡»å‘é€

![æ§åˆ¶å°ç•Œé¢](https://img.shields.io/badge/ç•Œé¢é¢„è§ˆ-ç‚¹å‡»æŸ¥çœ‹-blue?style=for-the-badge)

### ğŸ”Œ æ–¹å¼äºŒï¼šAPIè°ƒç”¨ï¼ˆé€‚åˆå¼€å‘è€…ï¼‰

#### **åŸºç¡€é…ç½®**:
```json
{
  "base_url": "http://localhost:8000/v1",
  "api_key": "1",  // é»˜è®¤APIå¯†é’¥
  "model": "toolbaz-v4.5-fast"
}
```

#### **CURLç¤ºä¾‹**:
```bash
# ğŸ“ æ™®é€šè¯·æ±‚
curl -X POST http://localhost:8000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer 1" \
  -d '{
    "model": "toolbaz-v4.5-fast",
    "messages": [
      {"role": "system", "content": "ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠ©æ‰‹"},
      {"role": "user", "content": "ä½ å¥½ï¼Œä¸–ç•Œï¼"}
    ]
  }'

# ğŸŒŠ æµå¼å“åº”ï¼ˆæ‰“å­—æœºæ•ˆæœï¼‰
curl -X POST http://localhost:8000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer 1" \
  -d '{
    "model": "toolbaz-v4.5-fast",
    "messages": [{"role": "user", "content": "å†™ä¸€é¦–å…³äºAIçš„è¯—"}],
    "stream": true  # ğŸ¯ å…³é”®å‚æ•°ï¼
  }'
```

#### **Pythonå®¢æˆ·ç«¯ç¤ºä¾‹**:
```python
import openai

# é…ç½®å®¢æˆ·ç«¯
client = openai.OpenAI(
    base_url="http://localhost:8000/v1",
    api_key="1"  # é»˜è®¤APIå¯†é’¥
)

# å‘é€è¯·æ±‚
response = client.chat.completions.create(
    model="toolbaz-v4.5-fast",
    messages=[
        {"role": "user", "content": "è§£é‡Šä¸€ä¸‹é‡å­è®¡ç®—"}
    ],
    stream=True  # æ”¯æŒæµå¼è¾“å‡º
)

# å¤„ç†å“åº”
for chunk in response:
    if chunk.choices[0].delta.content:
        print(chunk.choices[0].delta.content, end="")
```

### ğŸ¤– æ–¹å¼ä¸‰ï¼šæ¥å…¥å¸¸ç”¨å·¥å…·

| å·¥å…·åç§° | é…ç½®æ–¹æ³• | æ”¯æŒç¨‹åº¦ |
|---------|---------|---------|
| **NextChat** | è®¾ç½® â†’ æ¨¡å‹ â†’ è‡ªå®šä¹‰æ¨¡å‹ | âœ… å®Œå…¨å…¼å®¹ |
| **LangChain** | ä½¿ç”¨`ChatOpenAI`ç±» | âœ… å®Œå…¨å…¼å®¹ |
| **OpenAI SDK** | è®¾ç½®`base_url`å‚æ•° | âœ… å®Œå…¨å…¼å®¹ |
| **BotGem** | è‡ªå®šä¹‰APIç«¯ç‚¹ | âœ… å®Œå…¨å…¼å®¹ |

---

## âš–ï¸ ä¼˜ç¼ºç‚¹ä¸è¯„æµ‹

### ğŸ“Š ç»¼åˆè¯„åˆ†è¡¨

| ç»´åº¦ | è¯„åˆ† | è¯¦ç»†è¯´æ˜ |
|------|------|----------|
| **ğŸš€ ä¾¿æ·æ€§** | â­â­â­â­â­ | Dockerä¸€é”®å¯åŠ¨ï¼Œæ— éœ€å¤æ‚é…ç½® |
| **ğŸ›¡ï¸ ç¨³å®šæ€§** | â­â­â­â­ | å¤šé‡å®¹é”™æœºåˆ¶ï¼Œé•¿æœŸè¿è¡Œå¯é  |
| **âš¡ å“åº”é€Ÿåº¦** | â­â­ | å—é™äºç½‘ç«™åŠ è½½é€Ÿåº¦ï¼ˆ3-8ç§’ï¼‰ |
| **ğŸ”¢ å¹¶å‘èƒ½åŠ›** | â­ | ç½‘ç«™ä¸¥æ ¼é™åˆ¶ï¼ˆ5æ¬¡/åˆ†é’Ÿï¼‰ |
| **ğŸ”§ æ‰©å±•æ€§** | â­â­â­ | æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±• |
| **ğŸ¯ å‡†ç¡®æ€§** | â­â­â­â­ | è¿”å›åŸå§‹ç½‘ç«™ç»“æœï¼Œè´¨é‡å¯é  |

### âœ… æ ¸å¿ƒä¼˜åŠ¿

1. **ğŸ’° å®Œå…¨å…è´¹**ï¼šæ— éœ€æ”¯ä»˜APIè´¹ç”¨ï¼Œé›¶æˆæœ¬ä½¿ç”¨
2. **ğŸ”„ æŒç»­æ›´æ–°**ï¼šè·ŸéšToolbazç½‘ç«™æ›´æ–°è€Œæ›´æ–°
3. **ğŸ­ é«˜åº¦æ‹ŸçœŸ**ï¼šçœŸå®æµè§ˆå™¨è®¿é—®ï¼Œæéš¾è¢«æ£€æµ‹
4. **ğŸ”Œ å³æ’å³ç”¨**ï¼šDockeréƒ¨ç½²ï¼Œäº”åˆ†é’Ÿå†…å¯è¿è¡Œ
5. **ğŸ“š æ ‡å‡†å…¼å®¹**ï¼šå®Œå…¨å…¼å®¹OpenAI APIæ ‡å‡†

### âŒ å½“å‰å±€é™

1. **â±ï¸ é€Ÿåº¦ç“¶é¢ˆ**ï¼šæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦åŠ è½½å®Œæ•´ç½‘é¡µ
2. **ğŸš« å¹¶å‘é™åˆ¶**ï¼šå—é™äºç½‘ç«™ç­–ç•¥ï¼Œæ— æ³•å¤§è§„æ¨¡å¹¶å‘
3. **ğŸ” ä¾èµ–é£é™©**ï¼šç½‘ç«™æ”¹ç‰ˆå¯èƒ½å¯¼è‡´æœåŠ¡å¤±æ•ˆ
4. **ğŸ’¾ èµ„æºå ç”¨**ï¼šæ¯ä¸ªæµè§ˆå™¨å®ä¾‹å ç”¨200MB+å†…å­˜

### ğŸ¯ é€‚ç”¨åœºæ™¯

| åœºæ™¯ç±»å‹ | æ¨èåº¦ | åŸå›  |
|---------|--------|------|
| **ä¸ªäººå­¦ä¹ ä½¿ç”¨** | â­â­â­â­â­ | å…è´¹ã€ç¨³å®šã€æ˜“ç”¨ |
| **å°å‹é¡¹ç›®åŸå‹** | â­â­â­â­ | å¿«é€ŸéªŒè¯æƒ³æ³• |
| **APIå…¼å®¹æµ‹è¯•** | â­â­â­â­ | æ ‡å‡†çš„OpenAIæ ¼å¼ |
| **æ‰¹é‡å†…å®¹ç”Ÿæˆ** | â­â­ | å—é™äºé€Ÿç‡é™åˆ¶ |
| **ç”Ÿäº§ç¯å¢ƒ** | â­ | ç¨³å®šæ€§ä¾èµ–ç¬¬ä¸‰æ–¹ç½‘ç«™ |

---

## ğŸ”® æœªæ¥å±•æœ›ä¸æ‰©å±•è·¯çº¿å›¾

### ğŸ—ºï¸ æŠ€æœ¯æ¼”è¿›è·¯çº¿

```mermaid
graph LR
    A[V1.0 åŸºç¡€ç‰ˆ] --> B[V2.0 ç¨³å®šç‰ˆ]
    B --> C[V3.0 å¢å¼ºç‰ˆ]
    C --> D[V4.0 ç”Ÿæ€ç‰ˆ]
    
    subgraph "V1.0 å·²å®ç°"
        A1[âœ… å•å®ä¾‹è¿è¡Œ]
        A2[âœ… åŸºæœ¬APIå…¼å®¹]
        A3[âœ… Dockeræ”¯æŒ]
    end
    
    subgraph "V2.0 å¼€å‘ä¸­"
        B1[ğŸ”„ ä»£ç†æ± æ”¯æŒ]
        B2[ğŸ” å¥åº·æ£€æŸ¥]
        B3[ğŸ“Š ç›‘æ§é¢æ¿]
    end
    
    subgraph "V3.0 è§„åˆ’ä¸­"
        C1[ğŸ¯ å¤šç½‘ç«™æ”¯æŒ]
        C2[ğŸ¤– éªŒè¯ç ç»•è¿‡]
        C3[âš¡ ç¼“å­˜ä¼˜åŒ–]
    end
    
    subgraph "V4.0 æœªæ¥å±•æœ›"
        D1[ğŸŒ åˆ†å¸ƒå¼éƒ¨ç½²]
        D2[ğŸ§  AIæ™ºèƒ½è°ƒåº¦]
        D3[ğŸ”— æ’ä»¶ç”Ÿæ€]
    end
```

### ğŸ¯ å¾…å®ç°åŠŸèƒ½æ¸…å•

#### **é«˜ä¼˜å…ˆçº§ï¼ˆç›´æ¥å½±å“ä½¿ç”¨ä½“éªŒï¼‰**

1. **ğŸ”Œ ä»£ç†IPæ± é›†æˆ**
   - **æŠ€æœ¯æ–¹æ¡ˆ**: é›†æˆ`proxy-pool`é¡¹ç›®
   - **é¢„æœŸæ•ˆæœ**: çªç ´å¹¶å‘é™åˆ¶ï¼Œå®ç°çœŸæ­£çš„å¤šçº¿ç¨‹
   - **å®ç°éš¾åº¦**: â­â­â­

2. **ğŸ“Š å®æ—¶ç›‘æ§é¢æ¿**
   - **æŠ€æœ¯æ–¹æ¡ˆ**: WebSocket + Chart.js
   - **åŠŸèƒ½äº®ç‚¹**: å®æ—¶æŸ¥çœ‹æ¯ä¸ªWorkerçŠ¶æ€ã€è¯·æ±‚ç»Ÿè®¡
   - **å®ç°éš¾åº¦**: â­â­

3. **ğŸ” è‡ªåŠ¨å¥åº·æ£€æŸ¥**
   - **æŠ€æœ¯æ–¹æ¡ˆ**: å®šæ—¶ä»»åŠ¡ + è‡ªæ„ˆæœºåˆ¶
   - **åŠŸèƒ½äº®ç‚¹**: Workerå¼‚å¸¸æ—¶è‡ªåŠ¨é‡å¯ï¼Œæ— éœ€äººå·¥å¹²é¢„
   - **å®ç°éš¾åº¦**: â­â­

#### **ä¸­ä¼˜å…ˆçº§ï¼ˆå¢å¼ºåŠŸèƒ½ï¼‰**

4. **ğŸ’¾ æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ**
   - **æŠ€æœ¯æ–¹æ¡ˆ**: Redis + ç›¸ä¼¼åº¦åŒ¹é…
   - **é¢„æœŸæ•ˆæœ**: ç›¸ä¼¼é—®é¢˜ç›´æ¥è¿”å›ç¼“å­˜ï¼Œæå‡å“åº”é€Ÿåº¦
   - **å®ç°éš¾åº¦**: â­â­â­â­

5. **ğŸ¤– éªŒè¯ç è‡ªåŠ¨å¤„ç†**
   - **æŠ€æœ¯æ–¹æ¡ˆ**: Capsolver/2captcha APIé›†æˆ
   - **åº”ç”¨åœºæ™¯**: ç½‘ç«™å¢åŠ éªŒè¯ç æ—¶è‡ªåŠ¨å¤„ç†
   - **å®ç°éš¾åº¦**: â­â­â­

#### **ä½ä¼˜å…ˆçº§ï¼ˆé”¦ä¸Šæ·»èŠ±ï¼‰**

6. **ğŸŒ å¤šç½‘ç«™æ”¯æŒæ¶æ„**
   - **æŠ€æœ¯æ–¹æ¡ˆ**: æ’ä»¶åŒ–æ¶æ„è®¾è®¡
   - **æ‰©å±•ç›®æ ‡**: æ”¯æŒDeepSeekã€Bing Chatç­‰
   - **å®ç°éš¾åº¦**: â­â­â­â­â­

7. **ğŸ§  AIæ™ºèƒ½è·¯ç”±**
   - **æŠ€æœ¯æ–¹æ¡ˆ**: é—®é¢˜åˆ†ç±» + æœ€ä¼˜æœåŠ¡é€‰æ‹©
   - **é¢„æœŸæ•ˆæœ**: æ ¹æ®é—®é¢˜ç±»å‹é€‰æ‹©æœ€ä½³ç½‘ç«™å›ç­”
   - **å®ç°éš¾åº¦**: â­â­â­â­â­

---

## ğŸ“ å¸¸è§é—®é¢˜

### â“ åŸºç¡€é—®é¢˜

**Q1: ä¸ºä»€ä¹ˆå“åº”è¿™ä¹ˆæ…¢ï¼Ÿ**
> **A**: è¿™æ˜¯è®¾è®¡ä¸Šçš„"å¿…è¦ä¹‹æ…¢"ã€‚æˆ‘ä»¬ä½¿ç”¨çœŸå®æµè§ˆå™¨åŠ è½½å®Œæ•´ç½‘é¡µï¼Œè¿™éœ€è¦3-8ç§’æ—¶é—´ã€‚ç›¸æ¯”ç›´æ¥APIè°ƒç”¨è™½ç„¶æ…¢ï¼Œä½†æ›´ç¨³å®šä¸”å…è´¹ã€‚

**Q2: æç¤º"Rate limit exceeded"æ€ä¹ˆåŠï¼Ÿ**
> **A**: è¿™è¯´æ˜ä½ è¯·æ±‚å¤ªå¿«äº†ï¼Toolbazç½‘ç«™é™åˆ¶æ¯åˆ†é’Ÿ5æ¬¡è¯·æ±‚ã€‚å»ºè®®ï¼š
> 1. é™ä½è¯·æ±‚é¢‘ç‡
> 2. ä½¿ç”¨`stream: true`å‚æ•°è·å–æµå¼å“åº”
> 3. ç­‰å¾…60ç§’åé‡è¯•

**Q3: Dockerå¯åŠ¨å¤±è´¥ï¼Œæ˜¾ç¤ºå†…å­˜ä¸è¶³ï¼Ÿ**
> **A**: è¿™æ˜¯å› ä¸ºChromiuméœ€è¦è¾ƒå¤šå†…å­˜ã€‚è§£å†³æ–¹æ¡ˆï¼š
> ```yaml
> # ä¿®æ”¹docker-compose.ymlä¸­çš„è¿™è¡Œï¼š
> shm_size: '2gb'  # æ”¹ä¸ºæ›´å¤§çš„å€¼ï¼Œå¦‚'3gb'
> ```

### ğŸ”§ æŠ€æœ¯é—®é¢˜

**Q4: å¦‚ä½•æŸ¥çœ‹è¯¦ç»†çš„è¿è¡Œæ—¥å¿—ï¼Ÿ**
```bash
# Dockeræ–¹å¼ï¼š
docker-compose logs -f --tail=100

# æœ¬åœ°è¿è¡Œï¼š
LOG_LEVEL=DEBUG python main.py
```

**Q5: å¦‚ä½•ä¿®æ”¹é»˜è®¤æ¨¡å‹ï¼Ÿ**
```python
# åœ¨.envæ–‡ä»¶ä¸­ä¿®æ”¹ï¼š
DEFAULT_MODEL=gemini-2.5-flash
# æˆ–è€…åœ¨è¯·æ±‚æ—¶æŒ‡å®šï¼š
{"model": "gpt-5", "messages": [...]}
```

**Q6: æ”¯æŒå“ªäº›æ¨¡å‹ï¼Ÿ**
```python
# å½“å‰æ”¯æŒçš„æ‰€æœ‰æ¨¡å‹ï¼š
MODELS = [
    "toolbaz-v4.5-fast",    # é»˜è®¤æ¨è
    "gemini-2.5-flash",     # Google Geminiå¿«é€Ÿç‰ˆ
    "gemini-2.5-pro",       # Google Geminiä¸“ä¸šç‰ˆ
    "claude-sonnet-4",      # Anthropic Claude
    "gpt-5",                # OpenAI GPT-5ï¼ˆå®é™…æ˜¯Toolbazçš„GPTï¼‰
    "grok-4-fast"           # xAI Grokå¿«é€Ÿç‰ˆ
]
```

### ğŸš€ é«˜çº§é—®é¢˜

**Q7: å¦‚ä½•æé«˜å¹¶å‘èƒ½åŠ›ï¼Ÿ**
> **A**: ç›®å‰å—é™äºToolbazç½‘ç«™çš„ä¸¥æ ¼é™åˆ¶ã€‚æœªæ¥è®¡åˆ’ï¼š
> 1. å®ç°ä»£ç†IPè½®æ¢
> 2. ç”¨æˆ·è´¦æˆ·æ± ç®¡ç†
> 3. è¯·æ±‚é˜Ÿåˆ—ä¼˜åŒ–

**Q8: å¦‚ä½•ä¿è¯æœåŠ¡çš„ç¨³å®šæ€§ï¼Ÿ**
> **A**: æˆ‘ä»¬æœ‰å¤šé‡ä¿éšœæœºåˆ¶ï¼š
> 1. âœ… è‡ªåŠ¨é‡è¯•ï¼ˆå¤±è´¥æ—¶é‡è¯•3æ¬¡ï¼‰
> 2. âœ… Workerå¥åº·æ£€æŸ¥ï¼ˆå¼‚å¸¸è‡ªåŠ¨é‡å¯ï¼‰
> 3. âœ… è¯·æ±‚é˜Ÿåˆ—ï¼ˆé˜²æ­¢è¯·æ±‚ä¸¢å¤±ï¼‰
> 4. âœ… ä¼˜é›…é™çº§ï¼ˆéƒ¨åˆ†å¤±è´¥ä¸å½±å“æ•´ä½“ï¼‰

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ğŸ‘¥ å¦‚ä½•å‚ä¸è´¡çŒ®ï¼Ÿ

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼æ— è®ºä½ æ˜¯ï¼š
- ğŸ› **BugæŠ¥å‘Šè€…**ï¼šå‘ç°å¹¶æŠ¥å‘Šé—®é¢˜
- ğŸ”§ **ä»£ç è´¡çŒ®è€…**ï¼šæäº¤PRä¿®å¤é—®é¢˜æˆ–æ·»åŠ åŠŸèƒ½
- ğŸ“š **æ–‡æ¡£è´¡çŒ®è€…**ï¼šæ”¹è¿›æ–‡æ¡£æˆ–ç¿»è¯‘
- ğŸ’¡ **åˆ›æ„è´¡çŒ®è€…**ï¼šæå‡ºæ–°æƒ³æ³•å’Œå»ºè®®

### ğŸ“ è´¡çŒ®æ­¥éª¤

```bash
# 1ï¸âƒ£ Forkä»“åº“
# ç‚¹å‡»GitHubé¡µé¢å³ä¸Šè§’çš„"Fork"æŒ‰é’®

# 2ï¸âƒ£ å…‹éš†ä½ çš„åˆ†æ”¯
git clone https://github.com/ä½ çš„ç”¨æˆ·å/toolbaz-2api-docker.git
cd toolbaz-2api-docker

# 3ï¸âƒ£ åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/ä½ çš„åŠŸèƒ½åç§°

# 4ï¸âƒ£ è¿›è¡Œä¿®æ”¹å¹¶æµ‹è¯•
# ä¿®æ”¹ä»£ç ...
# è¿è¡Œæµ‹è¯•...

# 5ï¸âƒ£ æäº¤æ›´æ”¹
git add .
git commit -m "æè¿°ä½ çš„ä¿®æ”¹"

# 6ï¸âƒ£ æ¨é€åˆ°GitHub
git push origin feature/ä½ çš„åŠŸèƒ½åç§°

# 7ï¸âƒ£ åˆ›å»ºPull Request
# åœ¨GitHubé¡µé¢ç‚¹å‡»"New Pull Request"
```

### ğŸ¯ å¾…è§£å†³çš„Issue

| Issueç¼–å· | æ ‡é¢˜ | éš¾åº¦ | çŠ¶æ€ |
|-----------|------|------|------|
| #001 | ğŸš€ æ·»åŠ ä»£ç†æ± æ”¯æŒ | â­â­â­ | ğŸ” å¾…è®¤é¢† |
| #002 | ğŸ“Š å®ç°ç›‘æ§é¢æ¿ | â­â­ | ğŸ” å¾…è®¤é¢† |
| #003 | ğŸ› ä¿®å¤å†…å­˜æ³„æ¼é—®é¢˜ | â­â­â­â­ | ğŸ› ï¸ è¿›è¡Œä¸­ |

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **Apache License 2.0** å¼€æºè®¸å¯è¯ã€‚

### ğŸ“‹ è®¸å¯è¯è¦ç‚¹æ‘˜è¦

**ä½ å¯ä»¥ï¼š**
- âœ… è‡ªç”±ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹æœ¬é¡¹ç›®
- âœ… ç”¨äºå•†ä¸šç”¨é€”
- âœ… åˆ†å‘ä¿®æ”¹åçš„ç‰ˆæœ¬
- âœ… ç”³è¯·ä¸“åˆ©æˆæƒ

**ä½ éœ€è¦ï¼š**
- ğŸ“ ä¿ç•™åŸå§‹ç‰ˆæƒå£°æ˜
- ğŸ“ åœ¨ä¿®æ”¹çš„æ–‡ä»¶ä¸­è¯´æ˜æ›´æ”¹
- ğŸ“ åŒ…å«NOTICEæ–‡ä»¶ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

**ä½ ä¸èƒ½ï¼š**
- âŒ ä½¿ç”¨é¡¹ç›®å•†æ ‡
- âŒ è¿½ç©¶ä½œè€…è´£ä»»
- âŒ è¿åé€‚ç”¨æ³•å¾‹

å®Œæ•´çš„è®¸å¯è¯æ–‡æœ¬è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸŒŸ ç»“è¯­

> ğŸ’­ **æŠ€æœ¯å“²å­¦æ€è€ƒ**ï¼šè¿™ä¸ªé¡¹ç›®å±•ç°äº†"æŠ€æœ¯æ°‘ä¸»åŒ–"çš„åŠ›é‡

æˆ‘ä»¬ç›¸ä¿¡ï¼ŒçœŸæ­£çš„åˆ›æ–°æ¥è‡ªäºï¼š
1. **ğŸš€ å®è·µç²¾ç¥**ï¼šæƒ³åˆ°å°±å»åšï¼Œé‡åˆ°é—®é¢˜å°±è§£å†³
2. **ğŸ”— è¿æ¥æ€ç»´**ï¼šæŠŠå­¤ç«‹çš„æŠ€æœ¯è¿æ¥æˆæœ‰ç”¨çš„ç³»ç»Ÿ
3. **ğŸ¤ åˆ†äº«æ–‡åŒ–**ï¼šå¼€æºå…±äº«ï¼Œå…±åŒè¿›æ­¥

**è‡´å¼€å‘è€…çš„è¯**ï¼š
> æ¯ä¸€è¡Œä»£ç éƒ½æ˜¯æ”¹å˜ä¸–ç•Œçš„å¾®å°åŠ›é‡ã€‚ä½ çš„è´¡çŒ®ï¼Œæ— è®ºå¤§å°ï¼Œéƒ½è®©å¼€æºç”Ÿæ€æ›´åŠ ç¹è£ã€‚
> 
> æ˜Ÿæ˜Ÿä¹‹ç«ï¼Œå¯ä»¥ç‡åŸã€‚ä½ çš„æ¯ä¸€ä¸ªâ­ Starï¼Œéƒ½æ˜¯å¯¹è¿™ä¸ªç†å¿µçš„è®¤åŒã€‚

ğŸ”— **é¡¹ç›®ä¸»é¡µ**: [https://github.com/lza6/toolbaz-2api-docker](https://github.com/lza6/toolbaz-2api-docker)  
ğŸ› **é—®é¢˜åé¦ˆ**: [Issuesé¡µé¢](https://github.com/lza6/toolbaz-2api-docker/issues)  
ğŸ’¬ **è®¨è®ºäº¤æµ**: [Discussions](https://github.com/lza6/toolbaz-2api-docker/discussions)

---
*æœ€åæ›´æ–°: 2025å¹´12æœˆ9æ—¥ 18:00:39 | ç‰ˆæœ¬: v3.1.0 | ç»´æŠ¤è€…: [lza6](https://github.com/lza6)*

<p align="center">
  <sub>å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰ç”¨ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ Starï¼è¿™æ˜¯å¯¹æˆ‘ä»¬æœ€å¤§çš„é¼“åŠ±ã€‚</sub>
</p>

<p align="center">
  <img src="https://img.shields.io/github/stars/lza6/toolbaz-2api-docker?style=social" alt="GitHub stars">
  <img src="https://img.shields.io/github/forks/lza6/toolbaz-2api-docker?style=social" alt="GitHub forks">
  <img src="https://img.shields.io/github/watchers/lza6/toolbaz-2api-docker?style=social" alt="GitHub watchers">
</p>
